# ChangeLog for squashmount

*squashmount-2.8
	Martin Väth <martin at mvath.de>:
	- fix: --error and --fatal can work together
	- fix restart: postpone forget, not releasing lock too early
	- Improve error handling for writing to /run/squashmount

*squashmount-2.7
	Martin Väth <martin at mvath.de>:
	- Introduce --locking and $locking and make it default
	- New check command
	- Add tmpfiles.d
	- squashmount -fI {u,}mount now even continues after error
	- Allow -f for status and print-... and improve results without -f

*squashmount-2.6
	Martin Väth <martin at mvath.de>:
	- Require -f for restart to forget+start an umounted mountpoint
	- Introduce --ignore-state to deal better with exceptional
	  situations caused by bugs (in squashmount or its config) or
	  by manual interfering

*squashmount-2.5
	Martin Väth <martin at mvath.de>:
	- Fix severe typo which caused umount to not save its state:
	  Regression introduced in squashmount-2.3 (=squashmount-2.4)

*squashmount-2.4
*squashmount-2.3
	Martin Väth <martin at mvath.de>:
	- Fix serious bug with restart command (forgetting despite mounting)
	- Change of the /run/squashmount format (MOUNT_RW is now part of TYPE).
	  Be aware that this can lead to problems for mount-points mounted
	  with an older version of squashmount!
	- Never touch /run/squashmount for info (status, print-...) commands
	- Deal better with half-mounted/half-umounted directories (i.e. after
	  fatal mount/umount failures)
	- More beautiful colored output if TERM::ANSIColor is available
	- New options -c -C (--color --no-color), --star, --no-star
	- Make most print-* commands return reasonable results also for
	  mount-points never mounted
	- Rename option --pass-directory into --pass-dir
	- Let print-... produce now more verbose output by default;
	  honour --separator only with -q
	- Let print-threshold without -v or -q print the human-readable form
	- Introduce --{no,}fatal and make --fatal default for {re,}start, stop
	- internal: use File::Spec for more compatibility
	- internal: make wanted function local to threshold_dir, using closures

*squashmount-2.2
	Martin Väth <martin at mvath.de>:
	- Remember paths; check for existence with File::Which
	- Fix usage of unionfs-fuse and of unionfs. Thanks to yoshi314 for
	  reporting: http://forums.gentoo.org/viewtopic-t-465367-start-248.html
	- Require -f on stop for umounted points to avoid accidental forget
	  of a semi-mounted state (could happen in case of certain bugs in
	  /etc/squashmount.pl or squashmount)
	- Use bigint for sizes/thresholds to make it reliable on 32 bit systems
	- Add more sanity checks

*squashmount-2.1
	Martin Väth <martin at mvath.de>:
	- Fix division by 0 on 32 bit systems

*squashmount-2.0
	Martin Väth <martin at mvath.de>:
	- Introduce &standard_mount, &added_hash config helpers,
	  remove misguided &standard_hash
	- Let start, stop, restart differ from mount, umount, remount
	- Introduce a separate create command
	- Introduce reset, forget, --reset
	- internal: make $current, $user_config global
	- internal: reorder to allow prototyping if desired,
	  but avoid it as it makes no sense in perl5

*squashmount-1.1
	Martin Väth <martin at mvath.de>:
	- Fix handling of BACKUP
	- various cosmetical fixes

*squashmount-1.0
	Martin Väth <martin at mvath.de>:
	- Improve documentation
	- Fix rounding
	- Fix sanity checks
	- Try to skip remount

*squashmount-0.01
	Martin Väth <martin at mvath.de>:
	- Initial implementation, using some ideas of the squash_dir project

